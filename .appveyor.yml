image: Visual Studio 2019 Preview
configuration:
  - Release
platform:
  - x86
  - x64
cache:
  - C:\tools\vcpkg\installed\
  - C:\projects\nas2d-core\proj\vs2019\packages -> proj\vs2019\packages.config
install:
  - vcpkg integrate install
  - vcpkg install physfs:x86-windows
  - vcpkg install physfs:x64-windows
  - vcpkg install glew:x86-windows
  - vcpkg install glew:x64-windows
  - vcpkg install gtest:x86-windows
  - vcpkg install gtest:x64-windows
  - nuget restore proj/vs2019
build:
  project: proj/vs2019/NAS2D.sln
test_script:
  - cd %APPVEYOR_BUILD_FOLDER%\test
  - '%APPVEYOR_BUILD_FOLDER%\test\%PLATFORM%\%CONFIGURATION%\test.exe'
