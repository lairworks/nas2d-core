version: 2.1
executors:
  docker-executor:
    docker:
      - image: outpostuniverse/ubuntu-18.04-gcc-sdl2-physfs-circleci
  macos-executor:
    macos:
      xcode: "10.0.0"
jobs:
  build-linux:
    executor: docker-executor
      steps:
        - checkout
        - run: make -k
  build-macos:
    executor: macos-executor
    steps:
      - checkout
      - run: make -k
workflows:
  version: 2
  linux_macos_build:
  jobs:
   - build-linux
   - build-macos